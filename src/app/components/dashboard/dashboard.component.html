<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nome do Projeto</title>
    <!-- set up awesome fonts -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
    />
    <!-- set up bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
  </head>
  <body (window:resize)="onResize($event)">
    <!-- BANNER -->
    <!-- TODO work on banner -->
    <a href="/dashboard" class="back">
      <div class="banner">
        <div class="banner-img">
          <!-- TODO - add proper logo this one is a test -->
          <img src="assets/images/logo-test.png" />
        </div>
        <div class="banner-content">
          <!-- TODO  - add proper title -->
          <h1>PROJETO TCC</h1>
        </div>
      </div>
      <!-- TODO  - blend the header in ither pages -->
    </a>
    <!-- MENU BUTTON -->
    <!-- TODO change title if not pacientes -->
    <div title="Lista Pacientes" class="menu-btn">
      <i (click)="controlDisplay()" id="menu-btn" class="fa-solid fa-bars"></i>
    </div>
    <div class="above">
      <!-- PROFILE OPTIONS -->
      <div class="profileOptions">
        <!-- TODO pick profile photo from backend -->
        <img
          (click)="toggleOptions()"
          title="Opções de Perfil"
          class="profile-photo"
          src="{{ profilePhoto }}"
          alt="profile-photo"
        />
        <span>Olá, {{ userName }}</span>
        <div class="options shrink">
          <ul>
            <li>
              <a href="/profile">Perfil</a>
            </li>
            <li>
              <a href="/code-generator">Gerar Código</a>
            </li>
            <li>
              <a (click)="logout()" href="/login">Sair</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="container-fluid">
      <div class="row gx-3">
        <div class="col-sm-4 col-md-4 col-lg-3 col-xl-2 col-xxl-2">
          <!-- SIDEBAR -->
          <aside id="aside">
            <div class="top">
              <h2>PACIENTES:</h2>
              <div class="close">
                <i
                  (click)="controlDisplay()"
                  id="close-btn"
                  title="Fechar"
                  class="fa-solid fa-xmark"
                ></i>
              </div>
            </div>
            <div class="search">
              <div class="input-group rounded">
                <input
                  type="search"
                  class="form-control rounded"
                  placeholder="Pesquisar"
                  aria-label="Search"
                  aria-describedby="search-addon"
                  [(ngModel)]="searchText"
                  autofocus
                />
              </div>
            </div>
            <div class="bottom">
              <ul class="list-group list-group-flush">
                <li
                  (click)="getIdFromClick($event)"
                  class="list-group-item"
                  *ngFor="let c of listPatients | appFilter : searchText"
                  appHighlight
                  [searchedWord]="searchText"
                  [content]="c.name"
                  [classToApply]="'fw-bolder'"
                  id="{{ c.id }}"
                >
                  {{ c }}
                </li>
              </ul>
            </div>
          </aside>
        </div>
        <div class="col-sm-8 col-md-8 col-lg-9 col-xl-10 col-xxl-10">
          <!-- MAIN CONTENT -->
          <main id="main">
            <div id="info" class="info">
              <div class="row">
                <div class="col-12">
                  <h2>INFORMAÇÕES DO PACIENTE:</h2>
                  <i
                    (click)="downloadPdf()"
                    title="Download PDF"
                    class="pdf fa-regular fa-file-pdf"
                  ></i>
                </div>
                <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4">
                  <h3>
                    {{ labels.info[0] }}<span>{{ patient.nome }}</span>
                  </h3>
                </div>
                <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4">
                  <h3>
                    {{ labels.info[1]
                    }}<span
                      >{{ patient.dataNascimento }} ({{ idade }} Anos)</span
                    >
                  </h3>
                </div>
                <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4">
                  <h3>
                    {{ labels.info[2] }}<span>{{ patient.email }}</span>
                  </h3>
                </div>
                <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4">
                  <h3>
                    {{ labels.info[3] }}<span>{{ patient.codLogin }}</span>
                  </h3>
                </div>
                <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4">
                  <h3>
                    {{ labels.info[4]
                    }}<span>{{ patient.dataDiagnostico }}</span>
                  </h3>
                </div>
                <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4">
                  <h3>
                    {{ labels.info[5] }}<span>{{ tempoTerapia }}</span>
                  </h3>
                </div>
                <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4">
                  <h3>
                    {{ labels.info[6]
                    }}<span>{{ patient.outComorbidades }}</span>
                  </h3>
                </div>
              </div>
            </div>
            <div class="charts">
              <div id="selectors" class="row gx-1">
                <div class="col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6">
                  <h3>
                    Período:
                    <select
                      (change)="selectRange()"
                      class="form-select"
                      id="range"
                    >
                      <option value="lastSevenDays" selected>
                        Últimos sete dias
                      </option>
                      <option value="lastWeek">Semana anterior</option>
                      <option value="thisMonth">Mês atual</option>
                      <option value="lastMonth">Mês anterior</option>
                      <option value="lastTrimester">Trimestre anterior</option>
                      <option value="lastSemester">Semestre anterior</option>
                      <option value="thisYear">Este ano</option>
                      <option value="lastYear">Ano anterior</option>
                      <option value="total">Total</option>
                    </select>
                  </h3>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6">
                  <h3>
                    Tipo de jogo:
                    <select
                      (change)="selectGame()"
                      class="form-select"
                      id="gameType"
                    >
                      <option value="">Jogo das cores</option>
                      <option value="">Jogo do clique rápido</option>
                    </select>
                  </h3>
                </div>
                <div class="col-12">
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      value=""
                      id="soundStimuli"
                      (change)="soundStimuliCheck()"
                    />
                    <label class="form-check-label" for="soundStimuli">
                      Presença de estímulos sonoros
                    </label>
                  </div>
                </div>
              </div>
              <!-- CHARTS -->
              <div id="chartsrow">
                <div class="row">
                  <div
                    id="chart1"
                    class="col-sm-12 col-md-12 col-lg-6 col-xl-6 col-xxl-6"
                  >
                    <h3 class="chartTitle">{{ labels.charts[0] }}</h3>
                    <div class="chartDays" id="chartDays"></div>
                  </div>
                  <div
                    id="chart2"
                    class="col-sm-12 col-md-12 col-lg-6 col-xl-6 col-xxl-6"
                  >
                    <h3 class="chartTitle">{{ labels.charts[1] }}</h3>
                    <div class="chartPoints" id="chartPoints"></div>
                  </div>
                </div>
                <div class="row">
                  <div
                    id="chart3"
                    class="col-sm-12 col-md-12 col-lg-6 col-xl-6 col-xxl-6"
                  >
                    <h3 class="chartTitle">{{ labels.charts[2] }}</h3>
                    <div
                      class="chartTimeAssignment"
                      id="chartTimeAssignment"
                    ></div>
                  </div>
                  <div
                    id="chart4"
                    class="col-sm-12 col-md-12 col-lg-6 col-xl-6 col-xxl-6"
                  >
                    <h3 class="chartTitle">{{ labels.charts[3] }}</h3>
                    <div
                      class="chartTimeClickColor"
                      id="chartTimeClickColor"
                    ></div>
                  </div>
                </div>
              </div>
            </div>
          </main>
        </div>
      </div>
    </div>
  </body>
</html>
